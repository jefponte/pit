apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Define o namespace para todos os recursos
namespace: pit-stg

resources:
- ../../base
- namespace.yaml

patches:
- path: patch-deployment.yaml
- path: patch-ingress.yaml
- path: patch-hpa.yaml

# MERGE com valores específicos de STAGING
configMapGenerator:
  - name: pit-config
    behavior: merge
    options:
      disableNameSuffixHash: true
    literals:
      - LOG_LEVEL="info"
      - MESSAGE="Serviço Admin Staging"

images:
- name: dti-registro.unilab.edu.br/unilab/pit
  newTag: latest
